{% extends "dashboard.html" %}
{% load humanize %}
{% block content %}

<div class="container mt-4">
    <h3>Assign Permissions for {{ invitation.email }}</h3>

    <form method="post" hx-post="{% url 'manage_permissions' invitation.id %}" hx-target="#main-content" hx-swap="innerHTML">
        {% csrf_token %}

        <div class="row">
            <div class="col-md-6">
                <h5>Vision Permissions</h5>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_view_vision" id="can_view_vision" {% if form.instance.can_view_vision %}checked{% endif %}>
                    <label class="form-check-label" for="can_view_vision">View Vision</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_create_vision" id="can_create_vision" {% if form.instance.can_create_vision %}checked{% endif %}>
                    <label class="form-check-label" for="can_create_vision">Create Vision</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_update_vision" id="can_update_vision" {% if form.instance.can_update_vision %}checked{% endif %}>
                    <label class="form-check-label" for="can_update_vision">Update Vision</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_delete_vision" id="can_delete_vision" {% if form.instance.can_delete_vision %}checked{% endif %}>
                    <label class="form-check-label" for="can_delete_vision">Delete Vision</label>
                </div>
            </div>

            <div class="col-md-6">
                <h5>Mission Permissions</h5>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_view_mission" id="can_view_mission" {% if form.instance.can_view_mission %}checked{% endif %}>
                    <label class="form-check-label" for="can_view_mission">View Mission</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_create_mission" id="can_create_mission" {% if form.instance.can_create_mission %}checked{% endif %}>
                    <label class="form-check-label" for="can_create_mission">Create Mission</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_update_mission" id="can_update_mission" {% if form.instance.can_update_mission %}checked{% endif %}>
                    <label class="form-check-label" for="can_update_mission">Update Mission</label>
                </div>
                <div class="form-check">
                    <input class="form-check-input" type="checkbox" name="can_delete_mission" id="can_delete_mission" {% if form.instance.can_delete_mission %}checked{% endif %}>
                    <label class="form-check-label" for="can_delete_mission">Delete Mission</label>
                </div>
            </div>
        </div>

        <button type="submit" class="btn btn-primary mt-3">Save Permissions</button>
        <a href="{% url 'dashboard' %}" class="btn btn-secondary mt-3">Cancel</a>
    </form>
</div>

{% endblock %}